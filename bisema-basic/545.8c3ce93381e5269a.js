"use strict";(self.webpackChunkbisema_basic=self.webpackChunkbisema_basic||[]).push([[545],{8545:(F,d,i)=>{i.r(d),i.d(d,{AuthModule:()=>c});var f=i(6895),p=i(6491),r=i(433),s=i(2687),o=i(1571),_=i(5136);class a extends _.b{constructor(n){super(n)}login(n){return this._networkService.get(`api/login/${n.email}/${n.password}`)}}a.\u0275fac=function(n){return new(n||a)(o.LFG(o.zs3))},a.\u0275prov=o.Yz7({token:a,factory:a.\u0275fac});const h={VALIDATION_ERRORS:{FIELD_IS_REQUIRED:"Field is required",EMAIL_IS_INVALID:"Invalid Email format",PASSWORD_NOT_MATCHED:"Password and confirm password must match",MIN_FIELD_REQUIRED_LENGTH:"Minimum field required length ",MAX_FIELD_REQUIRED_LENGTH:"Maximum field required length "}};function x(t,n){if(1&t&&(o.ynx(0),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.BQk()),2&t){const e=o.oxw(2);o.xp6(2),o.Oqu(e.errosMsg.VALIDATION_ERRORS.FIELD_IS_REQUIRED)}}function b(t,n){if(1&t&&(o.ynx(0),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.BQk()),2&t){const e=o.oxw(2);o.xp6(2),o.Oqu(e.errosMsg.VALIDATION_ERRORS.EMAIL_IS_INVALID)}}function v(t,n){if(1&t&&(o.ynx(0),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.BQk()),2&t){const e=o.oxw(2);o.xp6(2),o.Oqu(e.errosMsg.VALIDATION_ERRORS.PASSWORD_NOT_MATCHED)}}function A(t,n){if(1&t&&(o.ynx(0),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.BQk()),2&t){const e=o.oxw(2);o.xp6(2),o.AsE("",e.errosMsg.VALIDATION_ERRORS.MAX_FIELD_REQUIRED_LENGTH," ",e.control.errors.maxlength.requiredLength,"")}}function T(t,n){if(1&t&&(o.ynx(0),o.TgZ(1,"div"),o._uU(2),o.qZA(),o.BQk()),2&t){const e=o.oxw(2);o.xp6(2),o.AsE("",e.errosMsg.VALIDATION_ERRORS.MIN_FIELD_REQUIRED_LENGTH," ",e.control.errors.minlength.requiredLength," ")}}function Z(t,n){if(1&t&&(o.ynx(0),o.YNc(1,x,3,1,"ng-container",0),o.YNc(2,b,3,1,"ng-container",0),o.YNc(3,v,3,1,"ng-container",0),o.YNc(4,A,3,2,"ng-container",0),o.YNc(5,T,3,2,"ng-container",0),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",null==e.control.errors?null:e.control.errors.required),o.xp6(1),o.Q6J("ngIf",(null==e.control.errors?null:e.control.errors.email)&&!(null!=e.control.errors&&e.control.errors.required)),o.xp6(1),o.Q6J("ngIf",null==e.control.errors?null:e.control.errors.passwordNotMatch),o.xp6(1),o.Q6J("ngIf",e.control.errors.maxlength),o.xp6(1),o.Q6J("ngIf",e.control.errors.minlength)}}class g{constructor(){this.errosMsg=h,this.control=null}}g.\u0275fac=function(n){return new(n||g)},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-form-error-message"]],inputs:{control:"control",errorMessage:"errorMessage",labels:"labels",fieldType:"fieldType"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(n,e){1&n&&o.YNc(0,Z,6,5,"ng-container",0),2&n&&o.Q6J("ngIf",e.control.invalid&&(e.control.dirty||e.control.touched))},dependencies:[f.O5]});var I=i(2216);const E=function(){return{label1:"Subdomain"}},M=function(){return{label1:"Email"}},y=function(){return{label1:"Password"}};class u{constructor(n,e,m){this.fb=n,this.router=e,this.authService=m,this.faServer=s.xf3,this.faEnvelope=s.FU$,this.faKey=s.DD4,this.faLock=s.byT,this.faArrowRight=s.eFW,this.faPencil=s.TzT,this.faTrash=s.$aW,this.loginErrorMessage="",this.loginForm=this.fb.group({subdomain:["",[r.kI.required]],email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required]]})}submit(){let n=this.loginForm.value;this.authService.login(n).subscribe({next:e=>{"success"==e.status&&(localStorage.setItem("subdomain",n.subdomain),localStorage.setItem("user",JSON.stringify(e.data)),this.router.navigateByUrl("/"))},error:e=>{console.log(e)}})}ngOnInit(){}}u.\u0275fac=function(n){return new(n||u)(o.Y36(r.qu),o.Y36(p.F0),o.Y36(a))},u.\u0275cmp=o.Xpm({type:u,selectors:[["app-login"]],decls:46,vars:16,consts:[[1,"d-flex","align-items-center","justify-content-center",2,"height","100vh"],[1,"card","w-md-100"],[1,"card-body","bg-purple"],[1,"text-center","text-white"],[3,"formGroup","submit"],[1,"form-group","mb-1"],[1,"input-group"],["type","text","placeholder","Please enter subdomain","formControlName","subdomain",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[3,"icon"],[1,"text-white"],["fieldType","input",3,"control","labels"],["type","text","placeholder","Your Email","formControlName","email",1,"form-control"],["type","password","placeholder","Your Password","formControlName","password",1,"form-control"],[1,"d-flex","justify-content-between"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],[1,"d-flex"],["type","button",1,"btn","bg-light","me-2",3,"click"],[1,"input-group","d-flex","justify-content-end"],[1,"input-group-prepend"],["type","submit",1,"btn","btn2","border-white",3,"disabled"]],template:function(n,e){1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o.ynx(3),o.TgZ(4,"h1",3),o._uU(5,"BiSemA"),o.qZA(),o.TgZ(6,"p",3),o._uU(7,"Please enter your account details to login"),o.qZA(),o.TgZ(8,"form",4),o.NdJ("submit",function(){return e.submit()}),o.TgZ(9,"div",5)(10,"div",6),o._UZ(11,"input",7),o.TgZ(12,"div",8)(13,"span",9),o._UZ(14,"fa-icon",10),o.qZA()()(),o.TgZ(15,"label",11),o._UZ(16,"app-form-error-message",12),o.qZA()(),o.TgZ(17,"div",5)(18,"div",6),o._UZ(19,"input",13),o.TgZ(20,"div",8)(21,"span",9),o._UZ(22,"fa-icon",10),o.qZA()()(),o.TgZ(23,"label",11),o._UZ(24,"app-form-error-message",12),o.qZA()(),o.TgZ(25,"div",5)(26,"div",6),o._UZ(27,"input",14),o.TgZ(28,"div",8)(29,"span",9),o._UZ(30,"fa-icon",10),o.qZA()()(),o.TgZ(31,"label",11),o._UZ(32,"app-form-error-message",12),o.qZA()(),o.TgZ(33,"div",15)(34,"div",16),o._UZ(35,"input",17),o.qZA(),o.TgZ(36,"div",18)(37,"button",19),o.NdJ("click",function(){return e.loginForm.reset()}),o._uU(38," Cancel "),o.qZA(),o.TgZ(39,"div",20)(40,"div",21)(41,"span",9),o._UZ(42,"fa-icon",10),o.qZA()(),o.TgZ(43,"button",22),o._UZ(44,"fa-icon",10),o._uU(45," Login "),o.qZA()()()()(),o.BQk(),o.qZA()()()),2&n&&(o.xp6(8),o.Q6J("formGroup",e.loginForm),o.xp6(6),o.Q6J("icon",e.faServer),o.xp6(2),o.Q6J("control",e.loginForm.get("subdomain"))("labels",o.DdM(13,E)),o.xp6(6),o.Q6J("icon",e.faEnvelope),o.xp6(2),o.Q6J("control",e.loginForm.get("email"))("labels",o.DdM(14,M)),o.xp6(6),o.Q6J("icon",e.faKey),o.xp6(2),o.Q6J("control",e.loginForm.get("password"))("labels",o.DdM(15,y)),o.xp6(10),o.Q6J("icon",e.faLock),o.xp6(1),o.Q6J("disabled",!e.loginForm.valid),o.xp6(1),o.Q6J("icon",e.faArrowRight))},dependencies:[g,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,I.BN],styles:[".card[_ngcontent-%COMP%]{width:35%}.project_table_header[_ngcontent-%COMP%]{font-size:14px!important;font-weight:700;position:relative;float:left;margin:8px 0}.project_table_header_border[_ngcontent-%COMP%]{border-top:1px solid #fff}.project_table_body[_ngcontent-%COMP%]{max-height:288px;overflow-y:auto}.project_error_message[_ngcontent-%COMP%]{width:100%}.new_project_button[_ngcontent-%COMP%]{margin:10px 10px 0 0}.project_table_even_row[_ngcontent-%COMP%]{background-color:#eedfff}.dialog[_ngcontent-%COMP%]{top:50%;left:50%;width:50em;margin-top:-9em;margin-left:-25em;position:fixed;border:none!important;z-index:9999}.dialog_overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:.4;z-index:999}"]});const R=[{path:"",component:u}];class l{}l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[p.Bz.forChild(R),p.Bz]});var w=i(7281);class c{}c.\u0275fac=function(n){return new(n||c)},c.\u0275mod=o.oAB({type:c}),c.\u0275inj=o.cJS({providers:[a],imports:[f.ez,w.m,l]})}}]);